!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/fire/auth"),require("firebaseui-en-es/dist/npm__es"),require("firebase/app"),require("firebase/auth"),require("@angular/common")):"function"==typeof define&&define.amd?define("firebaseui-angular",["exports","@angular/core","@angular/fire/auth","firebaseui-en-es/dist/npm__es","firebase/app","firebase/auth","@angular/common"],r):r(e["firebaseui-angular"]={},e.ng.core,e.ng.fire.auth,e.firebaseui,e.firebase,null,e.ng.common)}(this,function(e,o,r,C,i,t,n){"use strict";var a=function(){function e(e){window.firebaseUiInstance||(window.firebaseUiInstance=new C.auth.AuthUI(e.auth)),this.firebaseUiInstance=window.firebaseUiInstance}return e.decorators=[{type:o.Injectable,args:[{providedIn:"root"}]}],e.ctorParameters=function(){return[{type:r.AngularFireAuth}]},e.ngInjectableDef=o.defineInjectable({factory:function(){return new e(o.inject(r.AngularFireAuth))},token:e,providedIn:"root"}),e}(),A=function(){return(A=Object.assign||function(e){for(var r,i=1,t=arguments.length;i<t;i++)for(var n in r=arguments[i])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};var s=i,u=C,c=function R(){},l=function w(){},f=function D(){},h=function _(){},P={AccountChooser:0,OneTap:1,None:2};P[P.AccountChooser]="AccountChooser",P[P.OneTap]="OneTap",P[P.None]="None";var p={Google:0,Facebook:1,Twitter:2,Github:3,Password:4,Phone:5};p[p.Google]="Google",p[p.Facebook]="Facebook",p[p.Twitter]="Twitter",p[p.Github]="Github",p[p.Password]="Password",p[p.Phone]="Phone";var U={Popup:0,Redirect:1};U[U.Popup]="Popup",U[U.Redirect]="Redirect";var g=i.auth.GoogleAuthProvider,d=i.auth.FacebookAuthProvider,b=i.auth.TwitterAuthProvider,I=i.auth.GithubAuthProvider,O=i.auth.EmailAuthProvider,y=i.auth.PhoneAuthProvider,v=function(){function v(e,r,i,t,n){this.angularFireAuth=e,this._firebaseUiConfig=r,this._firebaseUiConfig_Feature=i,this.ngZone=t,this.firebaseUIService=n,this.signInSuccessCallback=new o.EventEmitter,this.signInSuccessWithAuthResultCallback=new o.EventEmitter,this.signInFailureCallback=new o.EventEmitter}return v.getAuthProvider=function(e){switch(e){case p.Google:return g.PROVIDER_ID;case p.Facebook:return d.PROVIDER_ID;case p.Twitter:return b.PROVIDER_ID;case p.Github:return I.PROVIDER_ID;case p.Password:return O.PROVIDER_ID;case p.Phone:return y.PROVIDER_ID}},Object.defineProperty(v.prototype,"firebaseUiConfig",{get:function(){return A({},this._firebaseUiConfig,this._firebaseUiConfig_Feature)},enumerable:!0,configurable:!0}),v.prototype.ngOnInit=function(){var r=this;this.subscription=this.angularFireAuth.authState.subscribe(function(e){if(e&&e.isAnonymous||!e)if(r.firebaseUiConfig.providers){if(console.warn('"FirebaseUIAuthConfig" isn\'t supported since version 3.3.0 and will be removed in the future.\nPlease use the native configuration of firebaseui "firebaseui.auth.Config"'),console.warn("You can copy your converted configuration:\n",r.getNewConfigurationString(r.getUIAuthConfig())),0===r.firebaseUiConfig.providers.length)throw new Error("There must be at least one AuthProvider.");r.firebaseUIPopup()}else{if(0===r.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");r.firebaseUIPopup()}})},v.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},v.prototype.getUIAuthConfig=function(){var e,r,t=this;if(!this.firebaseUiConfig.providers)return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[v.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig;var n=this.firebaseUiConfig,i=[];try{for(var o=function b(e){var r="function"==typeof Symbol&&e[Symbol.iterator],i=0;return r?r.call(e):{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}(n.providers),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.customConfig){var u=(s=s).customConfig;u.provider=v.getAuthProvider(s.provider),i.push(u)}else i.push(v.getAuthProvider(s))}}catch(I){e={error:I}}finally{try{a&&!a.done&&(r=o["return"])&&r.call(o)}finally{if(e)throw e.error}}var c,l=n.tos?n.tos:"",f=n.privacyPolicyUrl?n.privacyPolicyUrl:"",h="popup";switch(n.method){case U.Redirect:h="redirect";break;case null:case U.Popup:}switch(n.credentialHelper){case P.None:c=C.auth.CredentialHelper.NONE;break;case P.OneTap:c=C.auth.CredentialHelper.GOOGLE_YOLO;break;case P.AccountChooser:default:c=C.auth.CredentialHelper.ACCOUNT_CHOOSER_COM}var p=null!=n.autoUpgradeAnonymousUsers&&n.autoUpgradeAnonymousUsers,g=A({},this.getCallbacks(),{signInSuccess:null});n.disableSignInSuccessCallback||(console.warn("[FirebaseUiAngular] signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead.\nTo remove this warning set disableSignInSuccessCallback on the FirebaseUiConfig Object."),g.signInSuccess=function(e,r,i){return t.ngZone.run(function(){t.signInSuccessCallback.emit({currentUser:e,credential:r,redirectUrl:i})}),!!n.signInSuccessUrl});var d={callbacks:g,signInFlow:h,signInOptions:i,tosUrl:l,privacyPolicyUrl:f,credentialHelper:c,autoUpgradeAnonymousUsers:p};return n.signInSuccessUrl&&(d.signInSuccessUrl=n.signInSuccessUrl),d},v.prototype.firebaseUIPopup=function(){var e=this.firebaseUIService.firebaseUiInstance,r=this.getUIAuthConfig(),i=!1;r[v.COMPUTED_CALLBACKS]&&(i=!0,delete r[v.COMPUTED_CALLBACKS]),e.start("#firebaseui-auth-container",r),i&&(this._firebaseUiConfig.callbacks=null)},v.prototype.getCallbacks=function(){var i=this;return{signInSuccessWithAuthResult:function(e,r){return i.ngZone.run(function(){i.signInSuccessWithAuthResultCallback.emit({authResult:e,redirectUrl:r})}),i.firebaseUiConfig.signInSuccessUrl},signInFailure:function(e){return i.ngZone.run(function(){i.signInFailureCallback.emit({code:e.code,credential:e.credential})}),Promise.reject()}}},v.prototype.getNewConfigurationString=function(e){delete e.callbacks,e.autoUpgradeAnonymousUsers||delete e.autoUpgradeAnonymousUsers;var r=JSON.stringify(e,null,2);return r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=(r=r.replace('"credentialHelper": "accountchooser.com"','"credentialHelper": firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM')).replace('"credentialHelper": "googleyolo"','"credentialHelper": firebaseui.auth.CredentialHelper.GOOGLE_YOLO')).replace('"credentialHelper": "none"','"credentialHelper": firebaseui.auth.CredentialHelper.NONE')).replace('"provider": "google.com"','"provider": firebase.auth.GoogleAuthProvider.PROVIDER_ID')).replace('"provider": "facebook.com"','"provider": firebase.auth.FacebookAuthProvider.PROVIDER_ID')).replace('"provider": "twitter.com"','"provider": firebase.auth.TwitterAuthProvider.PROVIDER_ID')).replace('"provider": "github.com"','"provider": firebase.auth.GithubAuthProvider.PROVIDER_ID')).replace('"provider": "password"','"provider": firebase.auth.EmailAuthProvider.PROVIDER_ID')).replace('"provider": "phone"','"provider": firebase.auth.PhoneAuthProvider.PROVIDER_ID')).replace('"google.com"',"firebase.auth.GoogleAuthProvider.PROVIDER_ID")).replace('"facebook.com"',"firebase.auth.FacebookAuthProvider.PROVIDER_ID")).replace('"twitter.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"github.com"',"firebase.auth.TwitterAuthProvider.PROVIDER_ID")).replace('"password"',"firebase.auth.EmailAuthProvider.PROVIDER_ID")).replace('"phone"',"firebase.auth.PhoneAuthProvider.PROVIDER_ID")).replace(/"([a-zA-Z0-9]*)": (.*)/g,"$1: $2")).replace(/"/g,"'")},v.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",v.decorators=[{type:o.Component,args:[{selector:"firebase-ui-es",template:'<div id="firebaseui-auth-container"></div>'}]}],v.ctorParameters=function(){return[{type:r.AngularFireAuth},{type:undefined,decorators:[{type:o.Inject,args:["firebaseUIAuthConfig"]}]},{type:undefined,decorators:[{type:o.Inject,args:["firebaseUIAuthConfigFeature"]}]},{type:o.NgZone},{type:a}]},v.propDecorators={signInSuccessCallback:[{type:o.Output,args:["signInSuccess"]}],signInSuccessWithAuthResultCallback:[{type:o.Output,args:["signInSuccessWithAuthResult"]}],signInFailureCallback:[{type:o.Output,args:["signInFailure"]}]},v}(),m=function(){function r(){}return r.forRoot=function(e){return{ngModule:r,providers:[{provide:"firebaseUIAuthConfig",useValue:e},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}},r.forFeature=function(e){return{ngModule:r,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:e}]}},r.decorators=[{type:o.NgModule,args:[{imports:[n.CommonModule],declarations:[v],exports:[v]}]}],r}();e.FirebaseuiAngularLibraryService=a,e.FirebaseuiAngularLibraryComponent=v,e.firebase=s,e.firebaseui=u,e.FirebaseUIAuthConfig=c,e.FirebaseUISignInSuccessWithAuthResult=l,e.FirebaseUISignInFailure=f,e.FirebaseUISignInSuccess=h,e.CredentialHelper=P,e.AuthProvider=p,e.AuthMethods=U,e.FirebaseUIModule=m,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=firebaseui-angular.umd.min.js.map